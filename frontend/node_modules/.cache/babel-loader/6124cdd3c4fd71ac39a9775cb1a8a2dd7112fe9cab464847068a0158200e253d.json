{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport wishlistService from \"../../services/wishlistService\";\nconst initialState = {\n  items: [],\n  isLoading: false,\n  isError: false,\n  message: \"\"\n};\n\n// Get user wishlist\nexport const getWishlist = createAsyncThunk(\"wishlist/getWishlist\", async (_, thunkAPI) => {\n  try {\n    var _thunkAPI$getState$au;\n    const token = (_thunkAPI$getState$au = thunkAPI.getState().auth.user) === null || _thunkAPI$getState$au === void 0 ? void 0 : _thunkAPI$getState$au.token;\n    return await wishlistService.getWishlist(token);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\n\n// Add to wishlist\nexport const addToWishlist = createAsyncThunk(\"wishlist/addToWishlist\", async (productId, thunkAPI) => {\n  try {\n    var _thunkAPI$getState$au2;\n    const token = (_thunkAPI$getState$au2 = thunkAPI.getState().auth.user) === null || _thunkAPI$getState$au2 === void 0 ? void 0 : _thunkAPI$getState$au2.token;\n    return await wishlistService.addToWishlist(productId, token);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\n\n// Remove from wishlist\nexport const removeFromWishlist = createAsyncThunk(\"wishlist/removeFromWishlist\", async (productId, thunkAPI) => {\n  try {\n    var _thunkAPI$getState$au3;\n    const token = (_thunkAPI$getState$au3 = thunkAPI.getState().auth.user) === null || _thunkAPI$getState$au3 === void 0 ? void 0 : _thunkAPI$getState$au3.token;\n    return await wishlistService.removeFromWishlist(productId, token);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\n\n// Clear wishlist\nexport const clearWishlist = createAsyncThunk(\"wishlist/clearWishlist\", async (_, thunkAPI) => {\n  try {\n    var _thunkAPI$getState$au4;\n    const token = (_thunkAPI$getState$au4 = thunkAPI.getState().auth.user) === null || _thunkAPI$getState$au4 === void 0 ? void 0 : _thunkAPI$getState$au4.token;\n    return await wishlistService.clearWishlist(token);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const wishlistSlice = createSlice({\n  name: \"wishlist\",\n  initialState,\n  reducers: {\n    reset: state => {\n      state.isLoading = false;\n      state.isError = false;\n      state.message = \"\";\n    },\n    clearError: state => {\n      state.isError = false;\n      state.message = \"\";\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Get Wishlist\n    .addCase(getWishlist.pending, state => {\n      state.isLoading = true;\n    }).addCase(getWishlist.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.items = action.payload.items || [];\n    }).addCase(getWishlist.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    })\n    // Add to Wishlist\n    .addCase(addToWishlist.pending, state => {\n      state.isLoading = true;\n    }).addCase(addToWishlist.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.items = action.payload.items || [];\n    }).addCase(addToWishlist.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    })\n    // Remove from Wishlist\n    .addCase(removeFromWishlist.pending, state => {\n      state.isLoading = true;\n    }).addCase(removeFromWishlist.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.items = action.payload.items || [];\n    }).addCase(removeFromWishlist.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    })\n    // Clear Wishlist\n    .addCase(clearWishlist.pending, state => {\n      state.isLoading = true;\n    }).addCase(clearWishlist.fulfilled, state => {\n      state.isLoading = false;\n      state.items = [];\n    }).addCase(clearWishlist.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const {\n  reset,\n  clearError\n} = wishlistSlice.actions;\nexport default wishlistSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","wishlistService","initialState","items","isLoading","isError","message","getWishlist","_","thunkAPI","_thunkAPI$getState$au","token","getState","auth","user","error","response","data","toString","rejectWithValue","addToWishlist","productId","_thunkAPI$getState$au2","removeFromWishlist","_thunkAPI$getState$au3","clearWishlist","_thunkAPI$getState$au4","wishlistSlice","name","reducers","reset","state","clearError","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","reducer"],"sources":["C:/Users/Ayoub/Desktop/Projects/e-commerce/frontend/src/features/wishlist/wishlistSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport wishlistService from \"../../services/wishlistService\";\r\n\r\nconst initialState = {\r\n  items: [],\r\n  isLoading: false,\r\n  isError: false,\r\n  message: \"\",\r\n};\r\n\r\n// Get user wishlist\r\nexport const getWishlist = createAsyncThunk(\r\n  \"wishlist/getWishlist\",\r\n  async (_, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user?.token;\r\n      return await wishlistService.getWishlist(token);\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n      return thunkAPI.rejectWithValue(message);\r\n    }\r\n  }\r\n);\r\n\r\n// Add to wishlist\r\nexport const addToWishlist = createAsyncThunk(\r\n  \"wishlist/addToWishlist\",\r\n  async (productId, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user?.token;\r\n      return await wishlistService.addToWishlist(productId, token);\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n      return thunkAPI.rejectWithValue(message);\r\n    }\r\n  }\r\n);\r\n\r\n// Remove from wishlist\r\nexport const removeFromWishlist = createAsyncThunk(\r\n  \"wishlist/removeFromWishlist\",\r\n  async (productId, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user?.token;\r\n      return await wishlistService.removeFromWishlist(productId, token);\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n      return thunkAPI.rejectWithValue(message);\r\n    }\r\n  }\r\n);\r\n\r\n// Clear wishlist\r\nexport const clearWishlist = createAsyncThunk(\r\n  \"wishlist/clearWishlist\",\r\n  async (_, thunkAPI) => {\r\n    try {\r\n      const token = thunkAPI.getState().auth.user?.token;\r\n      return await wishlistService.clearWishlist(token);\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n      return thunkAPI.rejectWithValue(message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const wishlistSlice = createSlice({\r\n  name: \"wishlist\",\r\n  initialState,\r\n  reducers: {\r\n    reset: (state) => {\r\n      state.isLoading = false;\r\n      state.isError = false;\r\n      state.message = \"\";\r\n    },\r\n    clearError: (state) => {\r\n      state.isError = false;\r\n      state.message = \"\";\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Get Wishlist\r\n      .addCase(getWishlist.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(getWishlist.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.items = action.payload.items || [];\r\n      })\r\n      .addCase(getWishlist.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      })\r\n      // Add to Wishlist\r\n      .addCase(addToWishlist.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(addToWishlist.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.items = action.payload.items || [];\r\n      })\r\n      .addCase(addToWishlist.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      })\r\n      // Remove from Wishlist\r\n      .addCase(removeFromWishlist.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(removeFromWishlist.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.items = action.payload.items || [];\r\n      })\r\n      .addCase(removeFromWishlist.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      })\r\n      // Clear Wishlist\r\n      .addCase(clearWishlist.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(clearWishlist.fulfilled, (state) => {\r\n        state.isLoading = false;\r\n        state.items = [];\r\n      })\r\n      .addCase(clearWishlist.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { reset, clearError } = wishlistSlice.actions;\r\nexport default wishlistSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}