{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ayoub\\\\Desktop\\\\Projects\\\\e-commerce\\\\frontend\\\\src\\\\pages\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport Layout from \"../components/layout/Layout\";\nimport { getCart } from \"../features/cart/cartSlice\";\nimport { createOrder } from \"../features/orders/orderSlice\";\nimport { clearCart } from \"../features/cart/cartSlice\";\nimport CheckoutForm from \"../components/checkout/CheckoutForm\";\nimport OrderSummary from \"../components/checkout/OrderSummary\";\nimport OrderConfirmation from \"../components/checkout/OrderConfirmation\";\nimport stripeService from \"../services/stripeService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  var _user$name, _user$name2;\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const {\n    items,\n    subtotal,\n    shippingCost,\n    discount,\n    total,\n    isLoading\n  } = useSelector(state => state.cart);\n  const {\n    order,\n    isLoading: orderLoading\n  } = useSelector(state => state.orders);\n  const [step, setStep] = useState(1);\n  const [shippingData, setShippingData] = useState({\n    firstName: (user === null || user === void 0 ? void 0 : (_user$name = user.name) === null || _user$name === void 0 ? void 0 : _user$name.split(\" \")[0]) || \"\",\n    lastName: (user === null || user === void 0 ? void 0 : (_user$name2 = user.name) === null || _user$name2 === void 0 ? void 0 : _user$name2.split(\" \").slice(1).join(\" \")) || \"\",\n    email: (user === null || user === void 0 ? void 0 : user.email) || \"\",\n    phone: \"\",\n    address: \"\",\n    city: \"\",\n    state: \"\",\n    zipCode: \"\",\n    country: \"US\",\n    notes: \"\"\n  });\n  const [paymentMethod, setPaymentMethod] = useState(\"card\");\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false);\n\n  // Debug logging\n  useEffect(() => {\n    console.log(\"Cart Debug Info:\", {\n      items: items,\n      subtotal: subtotal,\n      shippingCost: shippingCost,\n      discount: discount,\n      total: total,\n      totalType: typeof total,\n      isNaN: isNaN(total)\n    });\n  }, [items, subtotal, shippingCost, discount, total]);\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/login\");\n      return;\n    }\n    if (items.length === 0) {\n      navigate(\"/cart\");\n      return;\n    }\n    dispatch(getCart());\n  }, [dispatch, user, navigate, items.length]);\n  const handleShippingSubmit = data => {\n    setShippingData(data);\n    setStep(2);\n  };\n  const handlePaymentMethodSelect = method => {\n    setPaymentMethod(method);\n  };\n  const handleContinueToPayment = async () => {\n    setIsProcessingPayment(true);\n    try {\n      // Ensure total is a valid number\n      const validTotal = typeof total === \"number\" && !isNaN(total) ? total : 0;\n      console.log(\"Payment Debug:\", {\n        email: shippingData.email,\n        total: total,\n        validTotal: validTotal,\n        items: items\n      });\n\n      // Create order first\n      const orderData = {\n        shippingAddress: shippingData,\n        paymentMethod: paymentMethod === \"card\" ? \"stripe\" : paymentMethod,\n        notes: shippingData.notes\n      };\n      const orderResult = await dispatch(createOrder(orderData)).unwrap();\n\n      // Create Stripe checkout session\n      const sessionData = await stripeService.createCheckoutSession({\n        email: shippingData.email,\n        orderId: orderResult.id,\n        amount: validTotal * 100,\n        // Convert to cents\n        items: items.map(item => {\n          var _item$product;\n          return {\n            name: ((_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.name) || item.name || \"Product\",\n            quantity: item.quantity,\n            price: item.price\n          };\n        })\n      });\n      if (sessionData.success && sessionData.url) {\n        // Redirect to Stripe Checkout\n        window.location.href = sessionData.url;\n      } else {\n        throw new Error(\"Failed to create checkout session\");\n      }\n    } catch (error) {\n      console.error(\"Payment error:\", error);\n      toast.error(error.message || \"Failed to process payment\");\n      setIsProcessingPayment(false);\n    }\n  };\n  const handleBackToShop = () => {\n    navigate(\"/products\");\n  };\n  if (isLoading || orderLoading) {\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center items-center h-64\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center space-x-4\",\n          children: [1, 2, 3].map(stepNumber => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${step >= stepNumber ? \"bg-blue-600 text-white\" : \"bg-gray-200 text-gray-600\"}`,\n              children: stepNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), stepNumber < 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-16 h-0.5 mx-2 ${step > stepNumber ? \"bg-blue-600\" : \"bg-gray-200\"}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 19\n            }, this)]\n          }, stepNumber, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mt-2 space-x-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-sm ${step >= 1 ? \"text-blue-600\" : \"text-gray-500\"}`,\n            children: \"Shipping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-sm ${step >= 2 ? \"text-blue-600\" : \"text-gray-500\"}`,\n            children: \"Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-sm ${step >= 3 ? \"text-blue-600\" : \"text-gray-500\"}`,\n            children: \"Complete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: [step === 1 && /*#__PURE__*/_jsxDEV(CheckoutForm, {\n            initialData: shippingData,\n            onSubmit: handleShippingSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-gray-800 rounded-lg shadow p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold text-gray-900 dark:text-white mb-6\",\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: \"card\",\n                  name: \"paymentMethod\",\n                  value: \"card\",\n                  checked: paymentMethod === \"card\",\n                  onChange: () => handlePaymentMethodSelect(\"card\"),\n                  className: \"w-4 h-4 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"card\",\n                  className: \"text-gray-700 dark:text-gray-300\",\n                  children: \"Credit/Debit Card (Stripe)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: \"paypal\",\n                  name: \"paymentMethod\",\n                  value: \"paypal\",\n                  checked: paymentMethod === \"paypal\",\n                  onChange: () => handlePaymentMethodSelect(\"paypal\"),\n                  className: \"w-4 h-4 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"paypal\",\n                  className: \"text-gray-700 dark:text-gray-300\",\n                  children: \"PayPal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5 text-blue-600 mt-0.5\",\n                  fill: \"currentColor\",\n                  viewBox: \"0 0 20 20\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",\n                    clipRule: \"evenodd\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-sm font-medium text-blue-800 dark:text-blue-200\",\n                    children: \"Secure Payment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-blue-700 dark:text-blue-300 mt-1\",\n                    children: \"You'll be redirected to a secure payment page to complete your purchase. Your payment information is encrypted and secure.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-sm font-medium text-gray-900 dark:text-white mb-2\",\n                children: \"Test Card Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-600 dark:text-gray-400 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Card Number:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 23\n                  }, this), \" 4242 4242 4242 4242\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Expiry:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 23\n                  }, this), \" Any future date (e.g., 12/25)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"CVC:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 23\n                  }, this), \" Any 3 digits (e.g., 123)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"ZIP:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this), \" Any 5 digits (e.g., 12345)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setStep(1),\n                disabled: isProcessingPayment,\n                className: \"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50\",\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleContinueToPayment,\n                disabled: isProcessingPayment,\n                className: \"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n                children: isProcessingPayment ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 25\n                  }, this), \"Processing...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 23\n                }, this) : \"Continue to Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), step === 3 && order && /*#__PURE__*/_jsxDEV(OrderConfirmation, {\n            order: order,\n            onBackToShop: handleBackToShop\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(OrderSummary, {\n            items: items,\n            subtotal: subtotal,\n            shippingCost: shippingCost,\n            discount: discount,\n            total: total,\n            step: step\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n_s(Checkout, \"lDx0coUuwyDdVIhWiWLzKWn0k9Y=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector, useSelector];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useNavigate","toast","Layout","getCart","createOrder","clearCart","CheckoutForm","OrderSummary","OrderConfirmation","stripeService","jsxDEV","_jsxDEV","Checkout","_s","_user$name","_user$name2","dispatch","navigate","user","state","auth","items","subtotal","shippingCost","discount","total","isLoading","cart","order","orderLoading","orders","step","setStep","shippingData","setShippingData","firstName","name","split","lastName","slice","join","email","phone","address","city","zipCode","country","notes","paymentMethod","setPaymentMethod","isProcessingPayment","setIsProcessingPayment","console","log","totalType","isNaN","length","handleShippingSubmit","data","handlePaymentMethodSelect","method","handleContinueToPayment","validTotal","orderData","shippingAddress","orderResult","unwrap","sessionData","createCheckoutSession","orderId","id","amount","map","item","_item$product","product","quantity","price","success","url","window","location","href","Error","error","message","handleBackToShop","children","className","fileName","_jsxFileName","lineNumber","columnNumber","stepNumber","initialData","onSubmit","type","value","checked","onChange","htmlFor","fill","viewBox","fillRule","d","clipRule","onClick","disabled","onBackToShop","_c","$RefreshReg$"],"sources":["C:/Users/Ayoub/Desktop/Projects/e-commerce/frontend/src/pages/Checkout.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport Layout from \"../components/layout/Layout\";\nimport { getCart } from \"../features/cart/cartSlice\";\nimport { createOrder } from \"../features/orders/orderSlice\";\nimport { clearCart } from \"../features/cart/cartSlice\";\nimport CheckoutForm from \"../components/checkout/CheckoutForm\";\nimport OrderSummary from \"../components/checkout/OrderSummary\";\nimport OrderConfirmation from \"../components/checkout/OrderConfirmation\";\nimport stripeService from \"../services/stripeService\";\n\nconst Checkout = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const { user } = useSelector((state) => state.auth);\n  const { items, subtotal, shippingCost, discount, total, isLoading } =\n    useSelector((state) => state.cart);\n  const { order, isLoading: orderLoading } = useSelector(\n    (state) => state.orders\n  );\n\n  const [step, setStep] = useState(1);\n  const [shippingData, setShippingData] = useState({\n    firstName: user?.name?.split(\" \")[0] || \"\",\n    lastName: user?.name?.split(\" \").slice(1).join(\" \") || \"\",\n    email: user?.email || \"\",\n    phone: \"\",\n    address: \"\",\n    city: \"\",\n    state: \"\",\n    zipCode: \"\",\n    country: \"US\",\n    notes: \"\",\n  });\n  const [paymentMethod, setPaymentMethod] = useState(\"card\");\n  const [isProcessingPayment, setIsProcessingPayment] = useState(false);\n\n  // Debug logging\n  useEffect(() => {\n    console.log(\"Cart Debug Info:\", {\n      items: items,\n      subtotal: subtotal,\n      shippingCost: shippingCost,\n      discount: discount,\n      total: total,\n      totalType: typeof total,\n      isNaN: isNaN(total),\n    });\n  }, [items, subtotal, shippingCost, discount, total]);\n\n  useEffect(() => {\n    if (!user) {\n      navigate(\"/login\");\n      return;\n    }\n\n    if (items.length === 0) {\n      navigate(\"/cart\");\n      return;\n    }\n\n    dispatch(getCart());\n  }, [dispatch, user, navigate, items.length]);\n\n  const handleShippingSubmit = (data) => {\n    setShippingData(data);\n    setStep(2);\n  };\n\n  const handlePaymentMethodSelect = (method) => {\n    setPaymentMethod(method);\n  };\n\n  const handleContinueToPayment = async () => {\n    setIsProcessingPayment(true);\n\n    try {\n      // Ensure total is a valid number\n      const validTotal = typeof total === \"number\" && !isNaN(total) ? total : 0;\n\n      console.log(\"Payment Debug:\", {\n        email: shippingData.email,\n        total: total,\n        validTotal: validTotal,\n        items: items,\n      });\n\n      // Create order first\n      const orderData = {\n        shippingAddress: shippingData,\n        paymentMethod: paymentMethod === \"card\" ? \"stripe\" : paymentMethod,\n        notes: shippingData.notes,\n      };\n\n      const orderResult = await dispatch(createOrder(orderData)).unwrap();\n\n      // Create Stripe checkout session\n      const sessionData = await stripeService.createCheckoutSession({\n        email: shippingData.email,\n        orderId: orderResult.id,\n        amount: validTotal * 100, // Convert to cents\n        items: items.map((item) => ({\n          name: item.product?.name || item.name || \"Product\",\n          quantity: item.quantity,\n          price: item.price,\n        })),\n      });\n\n      if (sessionData.success && sessionData.url) {\n        // Redirect to Stripe Checkout\n        window.location.href = sessionData.url;\n      } else {\n        throw new Error(\"Failed to create checkout session\");\n      }\n    } catch (error) {\n      console.error(\"Payment error:\", error);\n      toast.error(error.message || \"Failed to process payment\");\n      setIsProcessingPayment(false);\n    }\n  };\n\n  const handleBackToShop = () => {\n    navigate(\"/products\");\n  };\n\n  if (isLoading || orderLoading) {\n    return (\n      <Layout>\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Progress Steps */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-center space-x-4\">\n            {[1, 2, 3].map((stepNumber) => (\n              <div key={stepNumber} className=\"flex items-center\">\n                <div\n                  className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                    step >= stepNumber\n                      ? \"bg-blue-600 text-white\"\n                      : \"bg-gray-200 text-gray-600\"\n                  }`}>\n                  {stepNumber}\n                </div>\n                {stepNumber < 3 && (\n                  <div\n                    className={`w-16 h-0.5 mx-2 ${\n                      step > stepNumber ? \"bg-blue-600\" : \"bg-gray-200\"\n                    }`}></div>\n                )}\n              </div>\n            ))}\n          </div>\n          <div className=\"flex justify-center mt-2 space-x-16\">\n            <span\n              className={`text-sm ${\n                step >= 1 ? \"text-blue-600\" : \"text-gray-500\"\n              }`}>\n              Shipping\n            </span>\n            <span\n              className={`text-sm ${\n                step >= 2 ? \"text-blue-600\" : \"text-gray-500\"\n              }`}>\n              Payment\n            </span>\n            <span\n              className={`text-sm ${\n                step >= 3 ? \"text-blue-600\" : \"text-gray-500\"\n              }`}>\n              Complete\n            </span>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2\">\n            {step === 1 && (\n              <CheckoutForm\n                initialData={shippingData}\n                onSubmit={handleShippingSubmit}\n              />\n            )}\n\n            {step === 2 && (\n              <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n                <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-6\">\n                  Payment Method\n                </h2>\n\n                <div className=\"space-y-4 mb-6\">\n                  <div className=\"flex items-center space-x-3\">\n                    <input\n                      type=\"radio\"\n                      id=\"card\"\n                      name=\"paymentMethod\"\n                      value=\"card\"\n                      checked={paymentMethod === \"card\"}\n                      onChange={() => handlePaymentMethodSelect(\"card\")}\n                      className=\"w-4 h-4 text-blue-600\"\n                    />\n                    <label\n                      htmlFor=\"card\"\n                      className=\"text-gray-700 dark:text-gray-300\">\n                      Credit/Debit Card (Stripe)\n                    </label>\n                  </div>\n                  <div className=\"flex items-center space-x-3\">\n                    <input\n                      type=\"radio\"\n                      id=\"paypal\"\n                      name=\"paymentMethod\"\n                      value=\"paypal\"\n                      checked={paymentMethod === \"paypal\"}\n                      onChange={() => handlePaymentMethodSelect(\"paypal\")}\n                      className=\"w-4 h-4 text-blue-600\"\n                    />\n                    <label\n                      htmlFor=\"paypal\"\n                      className=\"text-gray-700 dark:text-gray-300\">\n                      PayPal\n                    </label>\n                  </div>\n                </div>\n\n                {/* Payment Information */}\n                <div className=\"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 mb-6\">\n                  <div className=\"flex items-start space-x-3\">\n                    <svg\n                      className=\"w-5 h-5 text-blue-600 mt-0.5\"\n                      fill=\"currentColor\"\n                      viewBox=\"0 0 20 20\">\n                      <path\n                        fillRule=\"evenodd\"\n                        d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\"\n                        clipRule=\"evenodd\"\n                      />\n                    </svg>\n                    <div>\n                      <h3 className=\"text-sm font-medium text-blue-800 dark:text-blue-200\">\n                        Secure Payment\n                      </h3>\n                      <p className=\"text-sm text-blue-700 dark:text-blue-300 mt-1\">\n                        You'll be redirected to a secure payment page to\n                        complete your purchase. Your payment information is\n                        encrypted and secure.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Test Card Information */}\n                <div className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6\">\n                  <h3 className=\"text-sm font-medium text-gray-900 dark:text-white mb-2\">\n                    Test Card Information\n                  </h3>\n                  <div className=\"text-xs text-gray-600 dark:text-gray-400 space-y-1\">\n                    <p>\n                      <strong>Card Number:</strong> 4242 4242 4242 4242\n                    </p>\n                    <p>\n                      <strong>Expiry:</strong> Any future date (e.g., 12/25)\n                    </p>\n                    <p>\n                      <strong>CVC:</strong> Any 3 digits (e.g., 123)\n                    </p>\n                    <p>\n                      <strong>ZIP:</strong> Any 5 digits (e.g., 12345)\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex space-x-4\">\n                  <button\n                    onClick={() => setStep(1)}\n                    disabled={isProcessingPayment}\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50\">\n                    Back\n                  </button>\n                  <button\n                    onClick={handleContinueToPayment}\n                    disabled={isProcessingPayment}\n                    className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\">\n                    {isProcessingPayment ? (\n                      <div className=\"flex items-center justify-center\">\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                        Processing...\n                      </div>\n                    ) : (\n                      \"Continue to Payment\"\n                    )}\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {step === 3 && order && (\n              <OrderConfirmation\n                order={order}\n                onBackToShop={handleBackToShop}\n              />\n            )}\n          </div>\n\n          {/* Order Summary */}\n          <div className=\"lg:col-span-1\">\n            <OrderSummary\n              items={items}\n              subtotal={subtotal}\n              shippingCost={shippingCost}\n              discount={discount}\n              total={total}\n              step={step}\n            />\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Checkout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}